Terminal.applyAddon(fullscreen),Terminal.applyAddon(fit),Terminal.applyAddon(webLinks);const delay=50,host=window.location.host,pathname=window.location.pathname,terminal=new Terminal({cursorBlink:!0,macOptionIsMeta:!0,scrollback:!0});let webSocketProtocol="ws";0===window.location.protocol.indexOf("https")&&(webSocketProtocol="wss");const ws=new WebSocket(`${webSocketProtocol}://${host}${pathname}pty`);function fitToScreen(){terminal.fit(),ws.send(JSON.stringify({action:"resize",data:{cols:terminal.cols,rows:terminal.rows}}))}function resizeDelay(e,n){let t;return function(...o){const i=this;clearTimeout(t),t=setTimeout(()=>e.apply(i,o),n)}}window.onresize=resizeDelay(fitToScreen,50),ws.onopen=function(){terminal.open(document.getElementById("terminal")),terminal.toggleFullScreen(!0),fitToScreen()},ws.onmessage=function(e){terminal.write(e.data)},terminal.on("key",(e,n)=>{ws.send(JSON.stringify({action:"input",data:{key:e}}))});